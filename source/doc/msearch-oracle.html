<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Oracle notes

</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="mnoGoSearch 3.3.11 reference manual"
HREF="index.html"><LINK
REL="UP"
TITLE="Storing mnoGoSearch data "
HREF="msearch-howstore.html"><LINK
REL="PREVIOUS"
TITLE="mnoGoSearch performance issues

"
HREF="msearch-perf.html"><LINK
REL="NEXT"
TITLE="IBM DB2 notes
    
  "
HREF="msearch-db2.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="mnogo.css"><META
NAME="Description"
CONTENT="mnoGoSearch - Full Featured Web site Open Source Search Engine Software over the Internet and Intranet Web Sites Based on SQL Database. It is a Free search software covered by GNU license."><META
NAME="Keywords"
CONTENT="shareware, freeware, download, internet, unix, utilities, search engine, text retrieval, knowledge retrieval, text search, information retrieval, database search, mining, intranet, webserver, index, spider, filesearch, meta, free, open source, full-text, udmsearch, website, find, opensource, search, searching, software, udmsearch, engine, indexing, system, web, ftp, http, cgi, php, SQL, MySQL, database, php3, FreeBSD, Linux, Unix, mnoGoSearch, MacOS X, Mac OS X, Windows, 2000, NT, 95, 98, GNU, GPL, url, grabbing"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#EEEEEE"
TEXT="#000000"
LINK="#000080"
VLINK="#800080"
ALINK="#FF0000"
><!--#include virtual="body-before.html"--><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
><SPAN
CLASS="application"
>mnoGoSearch</SPAN
> 3.3.11 reference manual: Full-featured search engine software</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="msearch-perf.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 7. Storing <SPAN
CLASS="application"
>mnoGoSearch</SPAN
> data</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="msearch-db2.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="oracle"
>Oracle notes
<A
NAME="AEN3593"
></A
></A
></H1
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="oracle-intro"
>Introduction</A
></H2
><P
>By Anton Zemlyanov <CODE
CLASS="email"
>&#60;<A
HREF="mailto:az@hotmail.ru"
>az@hotmail.ru</A
>&#62;</CODE
>
		</P
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="oracle-why"
>Why Oracle?</A
></H3
><P
>Oracle is a powerful, tunable, scalable
and reliable industrial RDBMS. It provides some functionalities which
are absent in simple freeware RDBMS like MySQL and PostgreSQL, such
as: transactions support, concurrency and consistency, data integrity,
partitioning, replication, cost-based and rule-based optimizers,
parallel execution, redo logs, RAW devices and many other
features. Although Oracle is a very functional database, the
additional qualities like reliability impose some overhead. In fact,
providing many advantages Oracle has some disadvantages. For example
great tenability requires more experienced DBA, redo logs support
provide great reliability against instance and media failures but
requires more efficient disk system. I think you should select Oracle
as a database for mnoGoSearch if you want to search through hundreds
of megabytes or several gigabytes of information, reliability is one
of the primary concerns, need high availability of the database, and
you are ready to pay higher sums for hardware and Oracle DBA to
achieve better quality of service. </P
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="oracle-req"
>mnoGoSearch+Oracle8 Installation Requirements</A
></H3
><P
>In order to install mnoGoSearch with Oracle RDBMS support you must ensure the following requirements are met:</P
><P
></P
><UL
><LI
><P
>Oracle8 Server must be
properly installed on any computer accessible from the site where
mnoGoSearch is to be installed. See the documentation provided with
your Oracle server. </P
></LI
><LI
><P
>Oracle client software
and libraries must be installed on the site where you plan to install
mnoGoSearch. I strongly recommend to install utilities also, it helps
you test the client and server accessibility. </P
></LI
><LI
><P
>glibc 2.0 or glibc 2.1. Oracle 8.0.5.X libraries are built for glibc 2.0.</P
></LI
></UL
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="oracle-platforms"
>Currently supported/tested platforms</A
></H3
><P
>Oracle versions:</P
><P
></P
><UL
><LI
><P
>Oracle 8.0.5.X </P
></LI
><LI
><P
>Oracle 9i </P
></LI
></UL
><P
>Operation systems:</P
><P
></P
><UL
><LI
><P
>Linux Red Hat 6.1 (2.2.X + glibc 2.0) </P
></LI
></UL
><P
>Oracle Server may be run on any platform
supporting TCP/IP connections. I see no difficulties to port
mnoGoSearch Oracle driver to any commercial and freeware UNIX systems,
any contribution is appreciated. </P
></DIV
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="oracle-install"
>Compilation, Installation and Configuration</A
></H2
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="oracle-compil"
>Compilation</A
></H3
><P
>Oracle 8.0.5.X and Linux Red Hat 6.1</P
><P
>&#13;				<PRE
CLASS="programlisting"
>&#13;./Configure --with-oracle8=oracle_home_dir
make
make install
</PRE
>
			</P
><P
>If you have any troubles, try to put
<TT
CLASS="literal"
>CC = i386-glibc20-linux-gcc</TT
> in the
<TT
CLASS="filename"
>src/Makefile</TT
>, this is an old version of gcc compiler
for glibc 2.0. </P
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="oracle-install-config"
>Installation and Configuration</A
></H3
><P
>&#13;				<SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Check whether Oracle Server and Oracle Client work properly.</I
></SPAN
>
			</P
><P
>First, try if mnoGoSearch service is accessible
			<PRE
CLASS="programlisting"
>&#13;
 [oracle@ant oracle]$ tnsping mnoGoSearch 3

TNS Ping Utility for Linux: Version 8.0.5.0.0 - Production on 29-FEB-00 09:46:12
(c) Copyright 1997 Oracle Corporation.  All rights reserved.

Attempting to contact (ADDRESS=(PROTOCOL=TCP)(Host=ant.gpovz.ru)(Port=1521))
OK (10 msec)
OK (0 msec)
OK (10 msec)

</PRE
>
			</P
><P
>Second, try to connect to Oracle Server with svrmgrl and check whether mnoGoSearch tables were created
			<PRE
CLASS="programlisting"
>&#13;[oracle@ant oracle]$ svrmgrl command='connect scott/tiger@mnoGoSearch'

Oracle Server Manager Release 3.0.5.0.0 - Production

(c) Copyright 1997, Oracle Corporation.  All Rights Reserved.

Oracle8 Release 8.0.5.1.0 - Production
PL/SQL Release 8.0.5.1.0 - Production

Connected.
SVRMGR&#62; SELECT table_name FROM user_tables;
TABLE_NAME
------------------------------
DICT
DICT10
DICT11
DICT12
DICT16
DICT2
DICT3
DICT32
DICT4
DICT5
DICT6
DICT7
DICT8
DICT9
PERFTEST
ROBOTS
STOPWORD
TAB1
URL
19 rows selected.
</PRE
>
			</P
><P
>&#13;				<SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Check the library paths in /etc/ld.so.conf</I
></SPAN
>
			</P
><P
>&#13;				<PRE
CLASS="programlisting"
>&#13;[oracle@ant oracle]$ cat /etc/ld.so.conf
/usr/X11R6/lib
/usr/lib
/usr/i486-linux-libc5/lib
/usr/lib/qt-2.0.1/lib
/usr/lib/qt-1.44/lib
/oracle8/app/oracle/product/8.0.5/lib
</PRE
>
			</P
><P
>This file should contain the line
<TT
CLASS="literal"
>oracle_home_path/lib</TT
> to ensure mnoGoSearch will be
able to open libclntsh.so, the shared Oracle Client library</P
><P
>&#13;				<SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Make the symbolic link:</I
></SPAN
>
			</P
><P
>&#13;				<KBD
CLASS="userinput"
>&#13;ln -s /oracle8/app/oracle/product/8.0.5/network/admin/tnsnames.ora /etc
</KBD
>
			</P
><P
>&#13;				<SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Correct the <TT
CLASS="filename"
>indexer.conf</TT
> file</I
></SPAN
>
			</P
><P
>You should specify
<CODE
CLASS="option"
>DBName</CODE
>, <CODE
CLASS="option"
>DBUser</CODE
>,
<CODE
CLASS="option"
>DBPass</CODE
> in order for mnoGoSearch to be able to connect to
Oracle Server. DBName is the service name, it should have the same
name that was written to <TT
CLASS="filename"
>tnsnames.ora</TT
> file,
DBUSer and DBPass are the Oracle user and his password
correspondingly. You can run the indexer now. </P
><P
>&#13;				<SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Setting up search.cgi</I
></SPAN
>
			</P
><P
>Copy the file
<TT
CLASS="filename"
>/usr/local/mnoGoSearch/bin/search.cgi</TT
> to
<TT
CLASS="filename"
>apache_root/cgi-bin/search.cgi</TT
>. Then add two
lines to apache's <TT
CLASS="filename"
>http.conf</TT
> file:</P
><P
CLASS="literallayout"
><br>
SetEnv&nbsp;ORACLE_HOME&nbsp;/oracle8/app/oracle/product/8.0.5<br>
PassEnv&nbsp;ORACLE_HOME<br>
</P
><P
>Correct the
<TT
CLASS="filename"
>search.htm</TT
> to provide DBName, DBUser, DBPass
information. <TT
CLASS="filename"
>search.cgi</TT
> should work now. </P
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="msearch-perf.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="msearch-db2.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>mnoGoSearch performance issues
<A
NAME="AEN3564"
></A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="msearch-howstore.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>IBM DB2 notes
    <A
NAME="AEN3674"
></A
></TD
></TR
></TABLE
></DIV
><!--#include virtual="body-after.html"--></BODY
></HTML
>